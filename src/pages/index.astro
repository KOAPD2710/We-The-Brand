---
import Layout from "@/layouts/Layout.astro";
import HomeHero from "@components/pages/Home/Hero/HomeHero.astro";
import HomePitch from "@components/pages/Home/Pitch/HomePitch.astro";
import HomeService from "@components/pages/Home/Service/HomeService.astro";
import HomeCollaborate from "@components/pages/Home/Collaborate/HomeCollaborate.astro";
import HomeWhy from "@components/pages/Home/Why/HomeWhy.astro";
import HomeClient from "@components/pages/Home/Client/HomeClient.astro";
import HomeWork from "@/components/pages/Home/Work/HomeWork.astro";
import { getPage } from "@/components/core/prismic";

const { data } = await getPage("home_page");

const SEO = data.body.find(slice => slice.slice_type === 'seo')
const Hero = data.body.find(slice => slice.slice_type === 'hero')
const Pitch = data.body.find(slice => slice.slice_type === 'pitch')
const Collaborate = data.body.find(slice => slice.slice_type === 'collaborate')
const WhyChoseUs = data.body.find(slice => slice.slice_type === 'why_choose_us')
const Project = data.body.find(slice => slice.slice_type === 'project')
const Services = data.body.find(slice => slice.slice_type === 'services')
const Clients = data.body.find(slice => slice.slice_type === 'clients')
---

<Layout
    title={SEO.primary.page_title[0].text}
    metaDesc={data.body[0].primary.page_meta_description}
>
    <HomeHero data={Hero} />
    <HomePitch data={Pitch}/>
    <HomeCollaborate data={Collaborate}/>
    <HomeWhy data={WhyChoseUs}/>
	<HomeWork data={Project}/>
    <HomeService data={Services}/>
    <HomeClient data={Clients}/>
</Layout>